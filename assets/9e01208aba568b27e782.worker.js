!function(t){var r={};function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var i in t)e.d(n,i,function(r){return t[r]}.bind(null,i));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=2)}([function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(1),i=function(){function t(t,r){this._rgb=t,this._population=r}return t.applyFilters=function(t,r){return r.length>0?t.filter(function(t){for(var e=t.r,n=t.g,i=t.b,o=0;o<r.length;o++)if(!r[o](e,n,i,255))return!1;return!0}):t},t.clone=function(r){return new t(r._rgb,r._population)},Object.defineProperty(t.prototype,"r",{get:function(){return this._rgb[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"g",{get:function(){return this._rgb[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this._rgb[2]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rgb",{get:function(){return this._rgb},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hsl",{get:function(){if(!this._hsl){var t=this._rgb,r=t[0],e=t[1],i=t[2];this._hsl=n.rgbToHsl(r,e,i)}return this._hsl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hex",{get:function(){if(!this._hex){var t=this._rgb,r=t[0],e=t[1],i=t[2];this._hex=n.rgbToHex(r,e,i)}return this._hex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"population",{get:function(){return this._population},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){return{rgb:this.rgb,population:this.population}},t.prototype.getRgb=function(){return this._rgb},t.prototype.getHsl=function(){return this.hsl},t.prototype.getPopulation=function(){return this._population},t.prototype.getHex=function(){return this.hex},t.prototype.getYiq=function(){if(!this._yiq){var t=this._rgb;this._yiq=(299*t[0]+587*t[1]+114*t[2])/1e3}return this._yiq},Object.defineProperty(t.prototype,"titleTextColor",{get:function(){return this._titleTextColor&&(this._titleTextColor=this.getYiq()<200?"#fff":"#000"),this._titleTextColor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bodyTextColor",{get:function(){return this._bodyTextColor&&(this._bodyTextColor=this.getYiq()<150?"#fff":"#000"),this._bodyTextColor},enumerable:!0,configurable:!0}),t.prototype.getTitleTextColor=function(){return this.titleTextColor},t.prototype.getBodyTextColor=function(){return this.bodyTextColor},t}();r.Swatch=i},function(t,r,e){"use strict";function n(t){var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(!r)throw new RangeError("'"+t+"' is not a valid hex color");return[r[1],r[2],r[3]].map(function(t){return parseInt(t,16)})}function i(t,r,e){return r/=255,e/=255,t=(t/=255)>.04045?Math.pow((t+.005)/1.055,2.4):t/12.92,r=r>.04045?Math.pow((r+.005)/1.055,2.4):r/12.92,e=e>.04045?Math.pow((e+.005)/1.055,2.4):e/12.92,[.4124*(t*=100)+.3576*(r*=100)+.1805*(e*=100),.2126*t+.7152*r+.0722*e,.0193*t+.1192*r+.9505*e]}function o(t,r,e){return r/=100,e/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(t-r),200*(r-(e=e>.008856?Math.pow(e,1/3):7.787*e+16/116))]}function a(t,r,e){var n=i(t,r,e);return o(n[0],n[1],n[2])}function u(t,r){var e=t[0],n=t[1],i=t[2],o=r[0],a=r[1],u=r[2],s=e-o,l=n-a,f=i-u,c=Math.sqrt(n*n+i*i),h=o-e,p=Math.sqrt(a*a+u*u)-c,g=Math.sqrt(s*s+l*l+f*f),b=Math.sqrt(g)>Math.sqrt(Math.abs(h))+Math.sqrt(Math.abs(p))?Math.sqrt(g*g-h*h-p*p):0;return h/=1,p/=1*(1+.045*c),b/=1*(1+.015*c),Math.sqrt(h*h+p*p+b*b)}function s(t,r){return u(a.apply(void 0,t),a.apply(void 0,r))}Object.defineProperty(r,"__esModule",{value:!0}),r.DELTAE94_DIFF_STATUS={NA:0,PERFECT:1,CLOSE:2,GOOD:10,SIMILAR:50},r.hexToRgb=n,r.rgbToHex=function(t,r,e){return"#"+((1<<24)+(t<<16)+(r<<8)+e).toString(16).slice(1,7)},r.rgbToHsl=function(t,r,e){t/=255,r/=255,e/=255;var n=Math.max(t,r,e),i=Math.min(t,r,e),o=0,a=0,u=(n+i)/2;if(n!==i){var s=n-i;switch(a=u>.5?s/(2-n-i):s/(n+i),n){case t:o=(r-e)/s+(r<e?6:0);break;case r:o=(e-t)/s+2;break;case e:o=(t-r)/s+4}o/=6}return[o,a,u]},r.hslToRgb=function(t,r,e){var n,i,o;function a(t,r,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+6*(r-t)*e:e<.5?r:e<2/3?t+(r-t)*(2/3-e)*6:t}if(0===r)n=i=o=e;else{var u=e<.5?e*(1+r):e+r-e*r,s=2*e-u;n=a(s,u,t+1/3),i=a(s,u,t),o=a(s,u,t-1/3)}return[255*n,255*i,255*o]},r.rgbToXyz=i,r.xyzToCIELab=o,r.rgbToCIELab=a,r.deltaE94=u,r.rgbDiff=s,r.hexDiff=function(t,r){return s(n(t),n(r))},r.getColorDiffStatus=function(t){return t<r.DELTAE94_DIFF_STATUS.NA?"N/A":t<=r.DELTAE94_DIFF_STATUS.PERFECT?"Perfect":t<=r.DELTAE94_DIFF_STATUS.CLOSE?"Close":t<=r.DELTAE94_DIFF_STATUS.GOOD?"Good":t<r.DELTAE94_DIFF_STATUS.SIMILAR?"Similar":"Wrong"}},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(3),i=e(5);n.default(self,i.default)},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(4);r.default=function(t,r){n.default(t,function(t,e){return r.process(t,e)})}},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t,r){t.onmessage=function(e){var n=e.data,i=n.id,o=n.payload;Promise.resolve(r.apply(void 0,o)).then(function(r){t.postMessage({id:i,type:"return",payload:r})}).catch(function(r){t.postMessage({id:i,type:"error",payload:r.message})})}}},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(6),i=e(10),o=(new(e(11).BasicPipeline)).filter.register("default",function(t,r,e,n){return n>=125&&!(t>250&&r>250&&e>250)}).quantizer.register("mmcq",n.default).generator.register("default",i.default);r.default=o},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(0),i=e(7),o=e(9);function a(t,r){for(var e=t.size();t.size()<r;){var n=t.pop();if(!(n&&n.count()>0))break;var i=n.split(),o=i[0],a=i[1];if(t.push(o),a&&a.count()>0&&t.push(a),t.size()===e)break;e=t.size()}}r.default=function(t,r){if(0===t.length||r.colorCount<2||r.colorCount>256)throw new Error("Wrong MMCQ parameters");var e=i.default.build(t),u=(e.histogram.colorCount,new o.default(function(t,r){return t.count()-r.count()}));u.push(e),a(u,.75*r.colorCount);var s=new o.default(function(t,r){return t.count()*t.volume()-r.count()*r.volume()});return s.contents=u.contents,a(s,r.colorCount-s.size()),function(t){for(var r=[];t.size();){var e=t.pop(),i=e.avg();i[0],i[1],i[2],r.push(new n.Swatch(i,e.count()))}return r}(s)}},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(8),i=function(){function t(t,r,e,n,i,o,a){this.histogram=a,this._volume=-1,this._count=-1,this.dimension={r1:t,r2:r,g1:e,g2:n,b1:i,b2:o}}return t.build=function(r){var e=new n.default(r,{sigBits:5});return new t(e.rmin,e.rmax,e.gmin,e.gmax,e.bmin,e.bmax,e)},t.prototype.invalidate=function(){this._volume=this._count=-1,this._avg=null},t.prototype.volume=function(){if(this._volume<0){var t=this.dimension,r=t.r1,e=t.r2,n=t.g1,i=t.g2,o=t.b1,a=t.b2;this._volume=(e-r+1)*(i-n+1)*(a-o+1)}return this._volume},t.prototype.count=function(){if(this._count<0){for(var t=this.histogram,r=t.hist,e=t.getColorIndex,n=this.dimension,i=n.r1,o=n.r2,a=n.g1,u=n.g2,s=n.b1,l=n.b2,f=0,c=i;c<=o;c++)for(var h=a;h<=u;h++)for(var p=s;p<=l;p++){f+=r[e(c,h,p)]}this._count=f}return this._count},t.prototype.clone=function(){var r=this.histogram,e=this.dimension;return new t(e.r1,e.r2,e.g1,e.g2,e.b1,e.b2,r)},t.prototype.avg=function(){if(!this._avg){var t=this.histogram,r=t.hist,e=t.getColorIndex,n=this.dimension,i=n.r1,o=n.r2,a=n.g1,u=n.g2,s=n.b1,l=n.b2,f=0,c=void 0,h=void 0,p=void 0;c=h=p=0;for(var g=i;g<=o;g++)for(var b=a;b<=u;b++)for(var m=s;m<=l;m++){var d=r[e(g,b,m)];f+=d,c+=d*(g+.5)*8,h+=d*(b+.5)*8,p+=d*(m+.5)*8}this._avg=f?[~~(c/f),~~(h/f),~~(p/f)]:[~~(8*(i+o+1)/2),~~(8*(a+u+1)/2),~~(8*(s+l+1)/2)]}return this._avg},t.prototype.contains=function(t){var r=t[0],e=t[1],n=t[2],i=this.dimension,o=i.r1,a=i.r2,u=i.g1,s=i.g2,l=i.b1,f=i.b2;return e>>=3,n>>=3,(r>>=3)>=o&&r<=a&&e>=u&&e<=s&&n>=l&&n<=f},t.prototype.split=function(){var t=this.histogram,r=t.hist,e=t.getColorIndex,n=this.dimension,i=n.r1,o=n.r2,a=n.g1,u=n.g2,s=n.b1,l=n.b2,f=this.count();if(!f)return[];if(1===f)return[this.clone()];var c,h,p=o-i+1,g=u-a+1,b=l-s+1,m=Math.max(p,g,b),d=null;c=h=0;var v=null;if(m===p){v="r",d=new Uint32Array(o+1);for(var y=i;y<=o;y++){c=0;for(var _=a;_<=u;_++)for(var M=s;M<=l;M++){c+=r[e(y,_,M)]}h+=c,d[y]=h}}else if(m===g){v="g",d=new Uint32Array(u+1);for(_=a;_<=u;_++){c=0;for(y=i;y<=o;y++)for(M=s;M<=l;M++){c+=r[e(y,_,M)]}h+=c,d[_]=h}}else{v="b",d=new Uint32Array(l+1);for(M=s;M<=l;M++){c=0;for(y=i;y<=o;y++)for(_=a;_<=u;_++){c+=r[e(y,_,M)]}h+=c,d[M]=h}}for(var w=-1,L=new Uint32Array(d.length),x=0;x<d.length;x++){var S=d[x];w<0&&S>h/2&&(w=x),L[x]=h-S}var T=this;return function(t){var r=t+"1",e=t+"2",n=T.dimension[r],i=T.dimension[e],o=T.clone(),a=T.clone(),u=w-n,s=i-w;for(u<=s?(i=Math.min(i-1,~~(w+s/2)),i=Math.max(0,i)):(i=Math.max(n,~~(w-1-u/2)),i=Math.min(T.dimension[e],i));!d[i];)i++;for(var l=L[i];!l&&d[i-1];)l=L[--i];return o.dimension[e]=i,a.dimension[r]=i+1,[o,a]}(v)},t}();r.default=i},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t,r){this.pixels=t,this.opts=r;var e=r.sigBits,n=function(t,r,n){return(t<<2*e)+(r<<e)+n};this.getColorIndex=n;var i,o,a,u,s,l,f,c,h,p=8-e,g=new Uint32Array(1<<3*e);i=a=s=0,o=u=l=Number.MAX_VALUE;for(var b=t.length/4,m=0;m<b;){var d=4*m;if(m++,f=t[d+0],c=t[d+1],h=t[d+2],0!==t[d+3])g[n(f>>=p,c>>=p,h>>=p)]+=1,f>i&&(i=f),f<o&&(o=f),c>a&&(a=c),c<u&&(u=c),h>s&&(s=h),h<l&&(l=h)}this._colorCount=g.reduce(function(t,r){return r>0?t+1:t},0),this.hist=g,this.rmax=i,this.rmin=o,this.gmax=a,this.gmin=u,this.bmax=s,this.bmin=l}return Object.defineProperty(t.prototype,"colorCount",{get:function(){return this._colorCount},enumerable:!0,configurable:!0}),t}();r.default=n},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t){this._comparator=t,this.contents=[],this._sorted=!1}return t.prototype._sort=function(){this._sorted||(this.contents.sort(this._comparator),this._sorted=!0)},t.prototype.push=function(t){this.contents.push(t),this._sorted=!1},t.prototype.peek=function(t){return this._sort(),t="number"==typeof t?t:this.contents.length-1,this.contents[t]},t.prototype.pop=function(){return this._sort(),this.contents.pop()},t.prototype.size=function(){return this.contents.length},t.prototype.map=function(t){return this._sort(),this.contents.map(t)},t}();r.default=n},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(0),i=e(1),o={targetDarkLuma:.26,maxDarkLuma:.45,minLightLuma:.55,targetLightLuma:.74,minNormalLuma:.3,targetNormalLuma:.5,maxNormalLuma:.7,targetMutesSaturation:.3,maxMutesSaturation:.4,targetVibrantSaturation:1,minVibrantSaturation:.35,weightSaturation:3,weightLuma:6.5,weightPopulation:.5};function a(t,r,e,n,i,o,a,u,s,l){var f=null,c=0;return r.forEach(function(r){var h=r.getHsl(),p=h[1],g=h[2];if(p>=u&&p<=s&&g>=i&&g<=o&&!function(t,r){return t.Vibrant===r||t.DarkVibrant===r||t.LightVibrant===r||t.Muted===r||t.DarkMuted===r||t.LightMuted===r}(t,r)){var b=function(t,r,e,n,i,o,a){function u(t,r){return 1-Math.abs(t-r)}return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var e=0,n=0,i=0;i<t.length;i+=2){var o=t[i],a=t[i+1];e+=o*a,n+=a}return e/n}(u(t,r),a.weightSaturation,u(e,n),a.weightLuma,i/o,a.weightPopulation)}(p,a,g,n,r.getPopulation(),e,l);(null===f||b>c)&&(f=r,c=b)}}),f}r.default=function(t,r){r=Object.assign({},o,r);var e=function(t){var r=0;return t.forEach(function(t){r=Math.max(r,t.getPopulation())}),r}(t),u=function(t,r,e){var n={Vibrant:null,DarkVibrant:null,LightVibrant:null,Muted:null,DarkMuted:null,LightMuted:null};return n.Vibrant=a(n,t,r,e.targetNormalLuma,e.minNormalLuma,e.maxNormalLuma,e.targetVibrantSaturation,e.minVibrantSaturation,1,e),n.LightVibrant=a(n,t,r,e.targetLightLuma,e.minLightLuma,1,e.targetVibrantSaturation,e.minVibrantSaturation,1,e),n.DarkVibrant=a(n,t,r,e.targetDarkLuma,0,e.maxDarkLuma,e.targetVibrantSaturation,e.minVibrantSaturation,1,e),n.Muted=a(n,t,r,e.targetNormalLuma,e.minNormalLuma,e.maxNormalLuma,e.targetMutesSaturation,0,e.maxMutesSaturation,e),n.LightMuted=a(n,t,r,e.targetLightLuma,e.minLightLuma,1,e.targetMutesSaturation,0,e.maxMutesSaturation,e),n.DarkMuted=a(n,t,r,e.targetDarkLuma,0,e.maxDarkLuma,e.targetMutesSaturation,0,e.maxMutesSaturation,e),n}(t,e,r);return function(t,r,e){if(!t.Vibrant&&!t.DarkVibrant&&!t.LightVibrant){if(!t.DarkVibrant&&t.DarkMuted){var o=t.DarkMuted.getHsl(),a=o[0],u=o[1],s=o[2];s=e.targetDarkLuma,t.DarkVibrant=new n.Swatch(i.hslToRgb(a,u,s),0)}if(!t.LightVibrant&&t.LightMuted){var l=t.LightMuted.getHsl();a=l[0],u=l[1],s=l[2],s=e.targetDarkLuma,t.DarkVibrant=new n.Swatch(i.hslToRgb(a,u,s),0)}}if(!t.Vibrant&&t.DarkVibrant){var f=t.DarkVibrant.getHsl();a=f[0],u=f[1],s=f[2],s=e.targetNormalLuma,t.Vibrant=new n.Swatch(i.hslToRgb(a,u,s),0)}else if(!t.Vibrant&&t.LightVibrant){var c=t.LightVibrant.getHsl();a=c[0],u=c[1],s=c[2],s=e.targetNormalLuma,t.Vibrant=new n.Swatch(i.hslToRgb(a,u,s),0)}if(!t.DarkVibrant&&t.Vibrant){var h=t.Vibrant.getHsl();a=h[0],u=h[1],s=h[2],s=e.targetDarkLuma,t.DarkVibrant=new n.Swatch(i.hslToRgb(a,u,s),0)}if(!t.LightVibrant&&t.Vibrant){var p=t.Vibrant.getHsl();a=p[0],u=p[1],s=p[2],s=e.targetLightLuma,t.LightVibrant=new n.Swatch(i.hslToRgb(a,u,s),0)}if(!t.Muted&&t.Vibrant){var g=t.Vibrant.getHsl();a=g[0],u=g[1],s=g[2],s=e.targetMutesSaturation,t.Muted=new n.Swatch(i.hslToRgb(a,u,s),0)}if(!t.DarkMuted&&t.DarkVibrant){var b=t.DarkVibrant.getHsl();a=b[0],u=b[1],s=b[2],s=e.targetMutesSaturation,t.DarkMuted=new n.Swatch(i.hslToRgb(a,u,s),0)}if(!t.LightMuted&&t.LightVibrant){var m=t.LightVibrant.getHsl();a=m[0],u=m[1],s=m[2],s=e.targetMutesSaturation,t.LightMuted=new n.Swatch(i.hslToRgb(a,u,s),0)}}(u,0,r),u}},function(t,r,e){"use strict";var n=this&&this.__awaiter||function(t,r,e,n){return new(e||(e=Promise))(function(i,o){function a(t){try{s(n.next(t))}catch(t){o(t)}}function u(t){try{s(n.throw(t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new e(function(r){r(t.value)}).then(a,u)}s((n=n.apply(t,r||[])).next())})},i=this&&this.__generator||function(t,r){var e,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=r.call(t,a)}catch(t){o=[6,t],n=0}finally{e=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(r,"__esModule",{value:!0});var o=e(12),a=function(){function t(t){this.pipeline=t,this._map={}}return t.prototype.names=function(){return Object.keys(this._map)},t.prototype.has=function(t){return!!this._map[t]},t.prototype.get=function(t){return this._map[t]},t.prototype.register=function(t,r){return this._map[t]=r,this.pipeline},t}();r.Stage=a;var u=function(){function t(){this.filter=new a(this),this.quantizer=new a(this),this.generator=new a(this)}return t.prototype._buildProcessTasks=function(t){var r=this,e=t.filters,n=t.quantizer,i=t.generators;return 1===i.length&&"*"===i[0]&&(i=this.generator.names()),{filters:e.map(function(t){return o(r.filter,t)}),quantizer:o(this.quantizer,n),generators:i.map(function(t){return o(r.generator,t)})};function o(t,r){var e,n;return"string"==typeof r?e=r:(e=r.name,n=r.options),{name:e,fn:t.get(e),options:n}}},t.prototype.process=function(t,r){return n(this,void 0,void 0,function(){var e,n,o,a,u,s,l;return i(this,function(i){switch(i.label){case 0:return e=this._buildProcessTasks(r),n=e.filters,o=e.quantizer,a=e.generators,[4,this._filterColors(n,t)];case 1:return u=i.sent(),[4,this._generateColors(o,u)];case 2:return s=i.sent(),[4,this._generatePalettes(a,s)];case 3:return l=i.sent(),[2,{colors:s,palettes:l}]}})})},t.prototype._filterColors=function(t,r){return Promise.resolve(o.applyFilters(r,t.map(function(t){return t.fn})))},t.prototype._generateColors=function(t,r){return Promise.resolve(t.fn(r.data,t.options))},t.prototype._generatePalettes=function(t,r){return n(this,void 0,void 0,function(){var e;return i(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(t){var e=t.fn,n=t.options;return Promise.resolve(e(r,n))}))];case 1:return e=n.sent(),[2,Promise.resolve(e.reduce(function(r,e,n){return r[t[n].name]=e,r},{}))]}})})},t}();r.BasicPipeline=u},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.scaleDown=function(t){var r=this.getWidth(),e=this.getHeight(),n=1;if(t.maxDimension>0){var i=Math.max(r,e);i>t.maxDimension&&(n=t.maxDimension/i)}else n=1/t.quality;n<1&&this.resize(r*n,e*n,n)},t}();r.ImageBase=n,r.applyFilters=function(t,r){if(r.length>0)for(var e=t.data,n=e.length/4,i=void 0,o=void 0,a=void 0,u=void 0,s=void 0,l=0;l<n;l++){o=e[0+(i=4*l)],a=e[i+1],u=e[i+2],s=e[i+3];for(var f=0;f<r.length;f++)if(!r[f](o,a,u,s)){e[i+3]=0;break}}return t}}]);
//# sourceMappingURL=9e01208aba568b27e782.worker.js.map