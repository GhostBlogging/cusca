{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../node_modules/@vibrant/color/lib/index.js","webpack:///../node_modules/@vibrant/color/lib/converter.js","webpack:///../node_modules/node-vibrant/lib/pipeline/index.worker.js","webpack:///../node_modules/@vibrant/core/lib/pipeline/worker/host.js","webpack:///../node_modules/@vibrant/worker/lib/worker.js","webpack:///../node_modules/node-vibrant/lib/pipeline/index.js","webpack:///../node_modules/@vibrant/quantizer-mmcq/lib/index.js","webpack:///../node_modules/@vibrant/quantizer-mmcq/lib/vbox.js","webpack:///../node_modules/@vibrant/image/lib/histogram.js","webpack:///../node_modules/@vibrant/quantizer-mmcq/lib/pqueue.js","webpack:///../node_modules/@vibrant/generator-default/lib/index.js","webpack:///../node_modules/@vibrant/core/lib/pipeline/index.js","webpack:///../node_modules/@vibrant/image/lib/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","converter_1","Swatch","rgb","population","this","_rgb","_population","applyFilters","colors","filters","length","filter","_a","g","b","j","clone","swatch","configurable","_hsl","rgbToHsl","_hex","rgbToHex","toJSON","getRgb","getHsl","hsl","getPopulation","getHex","hex","getYiq","_yiq","_titleTextColor","_bodyTextColor","getTitleTextColor","titleTextColor","getBodyTextColor","bodyTextColor","hexToRgb","exec","RangeError","map","parseInt","rgbToXyz","Math","pow","xyzToCIELab","x","y","z","rgbToCIELab","deltaE94","lab1","lab2","L1","a1","b1","L2","a2","b2","dL","da","db","xC1","sqrt","xDL","xDC","xDE","xDH","abs","rgbDiff","rgb1","rgb2","apply","undefined","DELTAE94_DIFF_STATUS","NA","PERFECT","CLOSE","GOOD","SIMILAR","toString","slice","max","min","h","hslToRgb","hue2rgb","q","hexDiff","hex1","hex2","getColorDiffStatus","host_1","_1","default","self","worker_1","pipeline","imageData","opts","process","fn","onmessage","event","data","id","payload","Promise","resolve","then","ret","postMessage","type","catch","e","message","quantizer_mmcq_1","generator_default_1","BasicPipeline","register","a","quantizer","generator","color_1","vbox_1","pqueue_1","_splitBoxes","pq","target","lastSize","size","vbox","pop","count","split","vbox1","vbox2","push","pixels","colorCount","Error","build","histogram","pq2","volume","contents","swatches","v","color","avg","generateSwatches","histogram_1","VBox","r1","r2","g1","g2","_volume","_count","dimension","sigBits","rmin","rmax","gmin","gmax","bmin","bmax","invalidate","_avg","hist","getColorIndex","_b","ntot","rsum","gsum","bsum","contains","sum","total","rw","gw","bw","maxw","accSum","maxd","Uint32Array","splitPoint","reverseSum","dim1","dim2","d1","d2","left","right","c2","doCut","Histogram","rshift","Number","MAX_VALUE","offset","_colorCount","reduce","PQueue","comparator","_comparator","_sorted","_sort","sort","item","peek","index","mapper","DefaultOpts","targetDarkLuma","maxDarkLuma","minLightLuma","targetLightLuma","minNormalLuma","targetNormalLuma","maxNormalLuma","targetMutesSaturation","maxMutesSaturation","targetVibrantSaturation","minVibrantSaturation","weightSaturation","weightLuma","weightPopulation","_findColorVariation","palette","maxPopulation","targetLuma","minLuma","maxLuma","targetSaturation","minSaturation","maxSaturation","maxValue","forEach","Vibrant","DarkVibrant","LightVibrant","Muted","DarkMuted","LightMuted","saturation","luma","invertDiff","targetValue","values","_i","arguments","weightSum","weight","weightedMean","_createComparisonValue","assign","_c","_d","_e","_f","_g","_h","_j","_generateEmptySwatches","__awaiter","thisArg","_arguments","P","reject","fulfilled","step","next","rejected","result","done","__generator","body","f","_","label","sent","trys","ops","verb","throw","return","iterator","op","TypeError","image_1","Stage","_map","names","keys","has","stageFn","_buildProcessTasks","_this","generators","createTask","stage","options","imageFilterData","palettes","_filterColors","_generateColors","_generatePalettes","promiseArr","all","promises","promiseVal","ImageBase","scaleDown","width","getWidth","height","getHeight","ratio","maxDimension","maxSide","quality","resize"],"mappings":"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","file":"4f944bba01af6348f28c.worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar converter_1 = require(\"./converter\");\nvar Swatch = /** @class */ (function () {\n    function Swatch(rgb, population) {\n        this._rgb = rgb;\n        this._population = population;\n    }\n    Swatch.applyFilters = function (colors, filters) {\n        return filters.length > 0\n            ? colors.filter(function (_a) {\n                var r = _a.r, g = _a.g, b = _a.b;\n                for (var j = 0; j < filters.length; j++) {\n                    if (!filters[j](r, g, b, 255))\n                        return false;\n                }\n                return true;\n            })\n            : colors;\n    };\n    Swatch.clone = function (swatch) {\n        return new Swatch(swatch._rgb, swatch._population);\n    };\n    Object.defineProperty(Swatch.prototype, \"r\", {\n        get: function () {\n            return this._rgb[0];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Swatch.prototype, \"g\", {\n        get: function () {\n            return this._rgb[1];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Swatch.prototype, \"b\", {\n        get: function () {\n            return this._rgb[2];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Swatch.prototype, \"rgb\", {\n        get: function () {\n            return this._rgb;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Swatch.prototype, \"hsl\", {\n        get: function () {\n            if (!this._hsl) {\n                var _a = this._rgb, r = _a[0], g = _a[1], b = _a[2];\n                this._hsl = converter_1.rgbToHsl(r, g, b);\n            }\n            return this._hsl;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Swatch.prototype, \"hex\", {\n        get: function () {\n            if (!this._hex) {\n                var _a = this._rgb, r = _a[0], g = _a[1], b = _a[2];\n                this._hex = converter_1.rgbToHex(r, g, b);\n            }\n            return this._hex;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Swatch.prototype, \"population\", {\n        get: function () {\n            return this._population;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Swatch.prototype.toJSON = function () {\n        return {\n            rgb: this.rgb,\n            population: this.population\n        };\n    };\n    // TODO: deprecate internally, use property instead\n    Swatch.prototype.getRgb = function () {\n        return this._rgb;\n    };\n    // TODO: deprecate internally, use property instead\n    Swatch.prototype.getHsl = function () {\n        return this.hsl;\n    };\n    // TODO: deprecate internally, use property instead\n    Swatch.prototype.getPopulation = function () {\n        return this._population;\n    };\n    // TODO: deprecate internally, use property instead\n    Swatch.prototype.getHex = function () {\n        return this.hex;\n    };\n    Swatch.prototype.getYiq = function () {\n        if (!this._yiq) {\n            var rgb = this._rgb;\n            this._yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;\n        }\n        return this._yiq;\n    };\n    Object.defineProperty(Swatch.prototype, \"titleTextColor\", {\n        get: function () {\n            if (this._titleTextColor) {\n                this._titleTextColor = this.getYiq() < 200 ? '#fff' : '#000';\n            }\n            return this._titleTextColor;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Swatch.prototype, \"bodyTextColor\", {\n        get: function () {\n            if (this._bodyTextColor) {\n                this._bodyTextColor = this.getYiq() < 150 ? '#fff' : '#000';\n            }\n            return this._bodyTextColor;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Swatch.prototype.getTitleTextColor = function () {\n        return this.titleTextColor;\n    };\n    Swatch.prototype.getBodyTextColor = function () {\n        return this.bodyTextColor;\n    };\n    return Swatch;\n}());\nexports.Swatch = Swatch;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DELTAE94_DIFF_STATUS = {\n    NA: 0,\n    PERFECT: 1,\n    CLOSE: 2,\n    GOOD: 10,\n    SIMILAR: 50\n};\nfunction hexToRgb(hex) {\n    var m = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    if (!m)\n        throw new RangeError(\"'\" + hex + \"' is not a valid hex color\");\n    return [m[1], m[2], m[3]].map(function (s) { return parseInt(s, 16); });\n}\nexports.hexToRgb = hexToRgb;\nfunction rgbToHex(r, g, b) {\n    return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1, 7);\n}\nexports.rgbToHex = rgbToHex;\nfunction rgbToHsl(r, g, b) {\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var h = 0;\n    var s = 0;\n    var l = (max + min) / 2;\n    if (max !== min) {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n            case r:\n                h = (g - b) / d + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = (b - r) / d + 2;\n                break;\n            case b:\n                h = (r - g) / d + 4;\n                break;\n        }\n        h /= 6;\n    }\n    return [h, s, l];\n}\nexports.rgbToHsl = rgbToHsl;\nfunction hslToRgb(h, s, l) {\n    var r;\n    var g;\n    var b;\n    function hue2rgb(p, q, t) {\n        if (t < 0)\n            t += 1;\n        if (t > 1)\n            t -= 1;\n        if (t < 1 / 6)\n            return p + (q - p) * 6 * t;\n        if (t < 1 / 2)\n            return q;\n        if (t < 2 / 3)\n            return p + (q - p) * (2 / 3 - t) * 6;\n        return p;\n    }\n    if (s === 0) {\n        r = g = b = l;\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - (l * s);\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - (1 / 3));\n    }\n    return [\n        r * 255,\n        g * 255,\n        b * 255\n    ];\n}\nexports.hslToRgb = hslToRgb;\nfunction rgbToXyz(r, g, b) {\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    r = r > 0.04045 ? Math.pow((r + 0.005) / 1.055, 2.4) : r / 12.92;\n    g = g > 0.04045 ? Math.pow((g + 0.005) / 1.055, 2.4) : g / 12.92;\n    b = b > 0.04045 ? Math.pow((b + 0.005) / 1.055, 2.4) : b / 12.92;\n    r *= 100;\n    g *= 100;\n    b *= 100;\n    var x = r * 0.4124 + g * 0.3576 + b * 0.1805;\n    var y = r * 0.2126 + g * 0.7152 + b * 0.0722;\n    var z = r * 0.0193 + g * 0.1192 + b * 0.9505;\n    return [x, y, z];\n}\nexports.rgbToXyz = rgbToXyz;\nfunction xyzToCIELab(x, y, z) {\n    var REF_X = 95.047;\n    var REF_Y = 100;\n    var REF_Z = 108.883;\n    x /= REF_X;\n    y /= REF_Y;\n    z /= REF_Z;\n    x = x > 0.008856 ? Math.pow(x, 1 / 3) : 7.787 * x + 16 / 116;\n    y = y > 0.008856 ? Math.pow(y, 1 / 3) : 7.787 * y + 16 / 116;\n    z = z > 0.008856 ? Math.pow(z, 1 / 3) : 7.787 * z + 16 / 116;\n    var L = 116 * y - 16;\n    var a = 500 * (x - y);\n    var b = 200 * (y - z);\n    return [L, a, b];\n}\nexports.xyzToCIELab = xyzToCIELab;\nfunction rgbToCIELab(r, g, b) {\n    var _a = rgbToXyz(r, g, b), x = _a[0], y = _a[1], z = _a[2];\n    return xyzToCIELab(x, y, z);\n}\nexports.rgbToCIELab = rgbToCIELab;\nfunction deltaE94(lab1, lab2) {\n    var WEIGHT_L = 1;\n    var WEIGHT_C = 1;\n    var WEIGHT_H = 1;\n    var L1 = lab1[0], a1 = lab1[1], b1 = lab1[2];\n    var L2 = lab2[0], a2 = lab2[1], b2 = lab2[2];\n    var dL = L1 - L2;\n    var da = a1 - a2;\n    var db = b1 - b2;\n    var xC1 = Math.sqrt(a1 * a1 + b1 * b1);\n    var xC2 = Math.sqrt(a2 * a2 + b2 * b2);\n    var xDL = L2 - L1;\n    var xDC = xC2 - xC1;\n    var xDE = Math.sqrt(dL * dL + da * da + db * db);\n    var xDH = (Math.sqrt(xDE) > Math.sqrt(Math.abs(xDL)) + Math.sqrt(Math.abs(xDC)))\n        ? Math.sqrt(xDE * xDE - xDL * xDL - xDC * xDC)\n        : 0;\n    var xSC = 1 + 0.045 * xC1;\n    var xSH = 1 + 0.015 * xC1;\n    xDL /= WEIGHT_L;\n    xDC /= WEIGHT_C * xSC;\n    xDH /= WEIGHT_H * xSH;\n    return Math.sqrt(xDL * xDL + xDC * xDC + xDH * xDH);\n}\nexports.deltaE94 = deltaE94;\nfunction rgbDiff(rgb1, rgb2) {\n    var lab1 = rgbToCIELab.apply(undefined, rgb1);\n    var lab2 = rgbToCIELab.apply(undefined, rgb2);\n    return deltaE94(lab1, lab2);\n}\nexports.rgbDiff = rgbDiff;\nfunction hexDiff(hex1, hex2) {\n    var rgb1 = hexToRgb(hex1);\n    var rgb2 = hexToRgb(hex2);\n    return rgbDiff(rgb1, rgb2);\n}\nexports.hexDiff = hexDiff;\nfunction getColorDiffStatus(d) {\n    if (d < exports.DELTAE94_DIFF_STATUS.NA) {\n        return 'N/A';\n    }\n    // Not perceptible by human eyes\n    if (d <= exports.DELTAE94_DIFF_STATUS.PERFECT) {\n        return 'Perfect';\n    }\n    // Perceptible through close observation\n    if (d <= exports.DELTAE94_DIFF_STATUS.CLOSE) {\n        return 'Close';\n    }\n    // Perceptible at a glance\n    if (d <= exports.DELTAE94_DIFF_STATUS.GOOD) {\n        return 'Good';\n    }\n    // Colors are more similar than opposite\n    if (d < exports.DELTAE94_DIFF_STATUS.SIMILAR) {\n        return 'Similar';\n    }\n    return 'Wrong';\n}\nexports.getColorDiffStatus = getColorDiffStatus;\n//# sourceMappingURL=converter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar host_1 = require(\"@vibrant/core/lib/pipeline/worker/host\");\nvar _1 = require(\"./\");\nhost_1.default(self, _1.default);\n//# sourceMappingURL=index.worker.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar worker_1 = require(\"@vibrant/worker/lib/worker\");\nfunction runPipelineInWorker(self, pipeline) {\n    worker_1.default(self, function (imageData, opts) {\n        return pipeline.process(imageData, opts);\n    });\n}\nexports.default = runPipelineInWorker;\n//# sourceMappingURL=host.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction runInWorker(self, fn) {\n    self.onmessage = function (event) {\n        var data = event.data;\n        var id = data.id, payload = data.payload;\n        var response;\n        Promise.resolve(fn.apply(void 0, payload))\n            .then(function (ret) {\n            self.postMessage({\n                id: id,\n                type: 'return',\n                payload: ret\n            });\n        })\n            .catch(function (e) {\n            self.postMessage({\n                id: id,\n                type: 'error',\n                payload: e.message\n            });\n        });\n    };\n}\nexports.default = runInWorker;\n//# sourceMappingURL=worker.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar quantizer_mmcq_1 = require(\"@vibrant/quantizer-mmcq\");\nvar generator_default_1 = require(\"@vibrant/generator-default\");\nvar pipeline_1 = require(\"@vibrant/core/lib/pipeline\");\nvar pipeline = new pipeline_1.BasicPipeline()\n    .filter.register('default', function (r, g, b, a) {\n    return a >= 125\n        && !(r > 250 && g > 250 && b > 250);\n})\n    .quantizer.register('mmcq', quantizer_mmcq_1.default)\n    .generator.register('default', generator_default_1.default);\nexports.default = pipeline;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar color_1 = require(\"@vibrant/color\");\nvar vbox_1 = require(\"./vbox\");\nvar pqueue_1 = require(\"./pqueue\");\nvar fractByPopulations = 0.75;\nfunction _splitBoxes(pq, target) {\n    var lastSize = pq.size();\n    while (pq.size() < target) {\n        var vbox = pq.pop();\n        if (vbox && vbox.count() > 0) {\n            var _a = vbox.split(), vbox1 = _a[0], vbox2 = _a[1];\n            pq.push(vbox1);\n            if (vbox2 && vbox2.count() > 0)\n                pq.push(vbox2);\n            // No more new boxes, converged\n            if (pq.size() === lastSize) {\n                break;\n            }\n            else {\n                lastSize = pq.size();\n            }\n        }\n        else {\n            break;\n        }\n    }\n}\nvar MMCQ = function (pixels, opts) {\n    if (pixels.length === 0 || opts.colorCount < 2 || opts.colorCount > 256) {\n        throw new Error('Wrong MMCQ parameters');\n    }\n    var vbox = vbox_1.default.build(pixels);\n    var colorCount = vbox.histogram.colorCount;\n    var pq = new pqueue_1.default(function (a, b) { return a.count() - b.count(); });\n    pq.push(vbox);\n    // first set of colors, sorted by population\n    _splitBoxes(pq, fractByPopulations * opts.colorCount);\n    // Re-order\n    var pq2 = new pqueue_1.default(function (a, b) { return a.count() * a.volume() - b.count() * b.volume(); });\n    pq2.contents = pq.contents;\n    // next set - generate the median cuts using the (npix * vol) sorting.\n    _splitBoxes(pq2, opts.colorCount - pq2.size());\n    // calculate the actual colors\n    return generateSwatches(pq2);\n};\nfunction generateSwatches(pq) {\n    var swatches = [];\n    while (pq.size()) {\n        var v = pq.pop();\n        var color = v.avg();\n        var r = color[0], g = color[1], b = color[2];\n        swatches.push(new color_1.Swatch(color, v.count()));\n    }\n    return swatches;\n}\nexports.default = MMCQ;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar histogram_1 = require(\"@vibrant/image/lib/histogram\");\nvar SIGBITS = 5;\nvar RSHIFT = 8 - SIGBITS;\nvar VBox = /** @class */ (function () {\n    function VBox(r1, r2, g1, g2, b1, b2, histogram) {\n        this.histogram = histogram;\n        this._volume = -1;\n        this._count = -1;\n        // NOTE: dimension will be mutated by split operation.\n        //       It must be specified explicitly, not from histogram\n        this.dimension = { r1: r1, r2: r2, g1: g1, g2: g2, b1: b1, b2: b2 };\n    }\n    VBox.build = function (pixels) {\n        var h = new histogram_1.default(pixels, { sigBits: SIGBITS });\n        var rmin = h.rmin, rmax = h.rmax, gmin = h.gmin, gmax = h.gmax, bmin = h.bmin, bmax = h.bmax;\n        return new VBox(rmin, rmax, gmin, gmax, bmin, bmax, h);\n    };\n    VBox.prototype.invalidate = function () {\n        this._volume = this._count = -1;\n        this._avg = null;\n    };\n    VBox.prototype.volume = function () {\n        if (this._volume < 0) {\n            var _a = this.dimension, r1 = _a.r1, r2 = _a.r2, g1 = _a.g1, g2 = _a.g2, b1 = _a.b1, b2 = _a.b2;\n            this._volume = (r2 - r1 + 1) * (g2 - g1 + 1) * (b2 - b1 + 1);\n        }\n        return this._volume;\n    };\n    VBox.prototype.count = function () {\n        if (this._count < 0) {\n            var _a = this.histogram, hist = _a.hist, getColorIndex = _a.getColorIndex;\n            var _b = this.dimension, r1 = _b.r1, r2 = _b.r2, g1 = _b.g1, g2 = _b.g2, b1 = _b.b1, b2 = _b.b2;\n            var c = 0;\n            for (var r = r1; r <= r2; r++) {\n                for (var g = g1; g <= g2; g++) {\n                    for (var b = b1; b <= b2; b++) {\n                        var index = getColorIndex(r, g, b);\n                        c += hist[index];\n                    }\n                }\n            }\n            this._count = c;\n        }\n        return this._count;\n    };\n    VBox.prototype.clone = function () {\n        var histogram = this.histogram;\n        var _a = this.dimension, r1 = _a.r1, r2 = _a.r2, g1 = _a.g1, g2 = _a.g2, b1 = _a.b1, b2 = _a.b2;\n        return new VBox(r1, r2, g1, g2, b1, b2, histogram);\n    };\n    VBox.prototype.avg = function () {\n        if (!this._avg) {\n            var _a = this.histogram, hist = _a.hist, getColorIndex = _a.getColorIndex;\n            var _b = this.dimension, r1 = _b.r1, r2 = _b.r2, g1 = _b.g1, g2 = _b.g2, b1 = _b.b1, b2 = _b.b2;\n            var ntot = 0;\n            var mult = 1 << (8 - SIGBITS);\n            var rsum = void 0;\n            var gsum = void 0;\n            var bsum = void 0;\n            rsum = gsum = bsum = 0;\n            for (var r = r1; r <= r2; r++) {\n                for (var g = g1; g <= g2; g++) {\n                    for (var b = b1; b <= b2; b++) {\n                        var index = getColorIndex(r, g, b);\n                        var h = hist[index];\n                        ntot += h;\n                        rsum += (h * (r + 0.5) * mult);\n                        gsum += (h * (g + 0.5) * mult);\n                        bsum += (h * (b + 0.5) * mult);\n                    }\n                }\n            }\n            if (ntot) {\n                this._avg = [\n                    ~~(rsum / ntot),\n                    ~~(gsum / ntot),\n                    ~~(bsum / ntot)\n                ];\n            }\n            else {\n                this._avg = [\n                    ~~(mult * (r1 + r2 + 1) / 2),\n                    ~~(mult * (g1 + g2 + 1) / 2),\n                    ~~(mult * (b1 + b2 + 1) / 2)\n                ];\n            }\n        }\n        return this._avg;\n    };\n    VBox.prototype.contains = function (rgb) {\n        var r = rgb[0], g = rgb[1], b = rgb[2];\n        var _a = this.dimension, r1 = _a.r1, r2 = _a.r2, g1 = _a.g1, g2 = _a.g2, b1 = _a.b1, b2 = _a.b2;\n        r >>= RSHIFT;\n        g >>= RSHIFT;\n        b >>= RSHIFT;\n        return r >= r1 && r <= r2\n            && g >= g1 && g <= g2\n            && b >= b1 && b <= b2;\n    };\n    VBox.prototype.split = function () {\n        var _a = this.histogram, hist = _a.hist, getColorIndex = _a.getColorIndex;\n        var _b = this.dimension, r1 = _b.r1, r2 = _b.r2, g1 = _b.g1, g2 = _b.g2, b1 = _b.b1, b2 = _b.b2;\n        var count = this.count();\n        if (!count)\n            return [];\n        if (count === 1)\n            return [this.clone()];\n        var rw = r2 - r1 + 1;\n        var gw = g2 - g1 + 1;\n        var bw = b2 - b1 + 1;\n        var maxw = Math.max(rw, gw, bw);\n        var accSum = null;\n        var sum;\n        var total;\n        sum = total = 0;\n        var maxd = null;\n        if (maxw === rw) {\n            maxd = 'r';\n            accSum = new Uint32Array(r2 + 1);\n            for (var r = r1; r <= r2; r++) {\n                sum = 0;\n                for (var g = g1; g <= g2; g++) {\n                    for (var b = b1; b <= b2; b++) {\n                        var index = getColorIndex(r, g, b);\n                        sum += hist[index];\n                    }\n                }\n                total += sum;\n                accSum[r] = total;\n            }\n        }\n        else if (maxw === gw) {\n            maxd = 'g';\n            accSum = new Uint32Array(g2 + 1);\n            for (var g = g1; g <= g2; g++) {\n                sum = 0;\n                for (var r = r1; r <= r2; r++) {\n                    for (var b = b1; b <= b2; b++) {\n                        var index = getColorIndex(r, g, b);\n                        sum += hist[index];\n                    }\n                }\n                total += sum;\n                accSum[g] = total;\n            }\n        }\n        else {\n            maxd = 'b';\n            accSum = new Uint32Array(b2 + 1);\n            for (var b = b1; b <= b2; b++) {\n                sum = 0;\n                for (var r = r1; r <= r2; r++) {\n                    for (var g = g1; g <= g2; g++) {\n                        var index = getColorIndex(r, g, b);\n                        sum += hist[index];\n                    }\n                }\n                total += sum;\n                accSum[b] = total;\n            }\n        }\n        var splitPoint = -1;\n        var reverseSum = new Uint32Array(accSum.length);\n        for (var i = 0; i < accSum.length; i++) {\n            var d = accSum[i];\n            if (splitPoint < 0 && d > total / 2)\n                splitPoint = i;\n            reverseSum[i] = total - d;\n        }\n        var vbox = this;\n        function doCut(d) {\n            var dim1 = d + '1';\n            var dim2 = d + '2';\n            var d1 = vbox.dimension[dim1];\n            var d2 = vbox.dimension[dim2];\n            var vbox1 = vbox.clone();\n            var vbox2 = vbox.clone();\n            var left = splitPoint - d1;\n            var right = d2 - splitPoint;\n            if (left <= right) {\n                d2 = Math.min(d2 - 1, ~~(splitPoint + right / 2));\n                d2 = Math.max(0, d2);\n            }\n            else {\n                d2 = Math.max(d1, ~~(splitPoint - 1 - left / 2));\n                d2 = Math.min(vbox.dimension[dim2], d2);\n            }\n            while (!accSum[d2])\n                d2++;\n            var c2 = reverseSum[d2];\n            while (!c2 && accSum[d2 - 1])\n                c2 = reverseSum[--d2];\n            vbox1.dimension[dim2] = d2;\n            vbox2.dimension[dim1] = d2 + 1;\n            return [vbox1, vbox2];\n        }\n        return doCut(maxd);\n    };\n    return VBox;\n}());\nexports.default = VBox;\n//# sourceMappingURL=vbox.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Histogram = /** @class */ (function () {\n    function Histogram(pixels, opts) {\n        this.pixels = pixels;\n        this.opts = opts;\n        var sigBits = opts.sigBits;\n        var getColorIndex = function (r, g, b) {\n            return (r << (2 * sigBits)) + (g << sigBits) + b;\n        };\n        this.getColorIndex = getColorIndex;\n        var rshift = 8 - sigBits;\n        var hn = 1 << (3 * sigBits);\n        var hist = new Uint32Array(hn);\n        var rmax;\n        var rmin;\n        var gmax;\n        var gmin;\n        var bmax;\n        var bmin;\n        var r;\n        var g;\n        var b;\n        var a;\n        rmax = gmax = bmax = 0;\n        rmin = gmin = bmin = Number.MAX_VALUE;\n        var n = pixels.length / 4;\n        var i = 0;\n        while (i < n) {\n            var offset = i * 4;\n            i++;\n            r = pixels[offset + 0];\n            g = pixels[offset + 1];\n            b = pixels[offset + 2];\n            a = pixels[offset + 3];\n            // Ignored pixels' alpha is marked as 0 in filtering stage\n            if (a === 0)\n                continue;\n            r = r >> rshift;\n            g = g >> rshift;\n            b = b >> rshift;\n            var index = getColorIndex(r, g, b);\n            hist[index] += 1;\n            if (r > rmax)\n                rmax = r;\n            if (r < rmin)\n                rmin = r;\n            if (g > gmax)\n                gmax = g;\n            if (g < gmin)\n                gmin = g;\n            if (b > bmax)\n                bmax = b;\n            if (b < bmin)\n                bmin = b;\n        }\n        this._colorCount = hist.reduce(function (total, c) { return c > 0 ? total + 1 : total; }, 0);\n        this.hist = hist;\n        this.rmax = rmax;\n        this.rmin = rmin;\n        this.gmax = gmax;\n        this.gmin = gmin;\n        this.bmax = bmax;\n        this.bmin = bmin;\n    }\n    Object.defineProperty(Histogram.prototype, \"colorCount\", {\n        get: function () { return this._colorCount; },\n        enumerable: true,\n        configurable: true\n    });\n    return Histogram;\n}());\nexports.default = Histogram;\n//# sourceMappingURL=histogram.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PQueue = /** @class */ (function () {\n    function PQueue(comparator) {\n        this._comparator = comparator;\n        this.contents = [];\n        this._sorted = false;\n    }\n    PQueue.prototype._sort = function () {\n        if (!this._sorted) {\n            this.contents.sort(this._comparator);\n            this._sorted = true;\n        }\n    };\n    PQueue.prototype.push = function (item) {\n        this.contents.push(item);\n        this._sorted = false;\n    };\n    PQueue.prototype.peek = function (index) {\n        this._sort();\n        index = typeof index === 'number' ? index : this.contents.length - 1;\n        return this.contents[index];\n    };\n    PQueue.prototype.pop = function () {\n        this._sort();\n        return this.contents.pop();\n    };\n    PQueue.prototype.size = function () {\n        return this.contents.length;\n    };\n    PQueue.prototype.map = function (mapper) {\n        this._sort();\n        return this.contents.map(mapper);\n    };\n    return PQueue;\n}());\nexports.default = PQueue;\n//# sourceMappingURL=pqueue.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar color_1 = require(\"@vibrant/color\");\nvar converter_1 = require(\"@vibrant/color/lib/converter\");\nvar DefaultOpts = {\n    targetDarkLuma: 0.26,\n    maxDarkLuma: 0.45,\n    minLightLuma: 0.55,\n    targetLightLuma: 0.74,\n    minNormalLuma: 0.3,\n    targetNormalLuma: 0.5,\n    maxNormalLuma: 0.7,\n    targetMutesSaturation: 0.3,\n    maxMutesSaturation: 0.4,\n    targetVibrantSaturation: 1.0,\n    minVibrantSaturation: 0.35,\n    weightSaturation: 3,\n    weightLuma: 6.5,\n    weightPopulation: 0.5\n};\nfunction _findMaxPopulation(swatches) {\n    var p = 0;\n    swatches.forEach(function (s) {\n        p = Math.max(p, s.getPopulation());\n    });\n    return p;\n}\nfunction _isAlreadySelected(palette, s) {\n    return palette.Vibrant === s\n        || palette.DarkVibrant === s\n        || palette.LightVibrant === s\n        || palette.Muted === s\n        || palette.DarkMuted === s\n        || palette.LightMuted === s;\n}\nfunction _createComparisonValue(saturation, targetSaturation, luma, targetLuma, population, maxPopulation, opts) {\n    function weightedMean() {\n        var values = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            values[_i] = arguments[_i];\n        }\n        var sum = 0;\n        var weightSum = 0;\n        for (var i = 0; i < values.length; i += 2) {\n            var value = values[i];\n            var weight = values[i + 1];\n            sum += value * weight;\n            weightSum += weight;\n        }\n        return sum / weightSum;\n    }\n    function invertDiff(value, targetValue) {\n        return 1 - Math.abs(value - targetValue);\n    }\n    return weightedMean(invertDiff(saturation, targetSaturation), opts.weightSaturation, invertDiff(luma, targetLuma), opts.weightLuma, population / maxPopulation, opts.weightPopulation);\n}\nfunction _findColorVariation(palette, swatches, maxPopulation, targetLuma, minLuma, maxLuma, targetSaturation, minSaturation, maxSaturation, opts) {\n    var max = null;\n    var maxValue = 0;\n    swatches.forEach(function (swatch) {\n        var _a = swatch.getHsl(), s = _a[1], l = _a[2];\n        if (s >= minSaturation && s <= maxSaturation\n            && l >= minLuma && l <= maxLuma\n            && !_isAlreadySelected(palette, swatch)) {\n            var value = _createComparisonValue(s, targetSaturation, l, targetLuma, swatch.getPopulation(), maxPopulation, opts);\n            if (max === null || value > maxValue) {\n                max = swatch;\n                maxValue = value;\n            }\n        }\n    });\n    return max;\n}\nfunction _generateVariationColors(swatches, maxPopulation, opts) {\n    var palette = {\n        Vibrant: null,\n        DarkVibrant: null,\n        LightVibrant: null,\n        Muted: null,\n        DarkMuted: null,\n        LightMuted: null\n    };\n    // mVibrantSwatch = findColor(TARGET_NORMAL_LUMA, MIN_NORMAL_LUMA, MAX_NORMAL_LUMA,\n    //     TARGET_VIBRANT_SATURATION, MIN_VIBRANT_SATURATION, 1f)\n    palette.Vibrant = _findColorVariation(palette, swatches, maxPopulation, opts.targetNormalLuma, opts.minNormalLuma, opts.maxNormalLuma, opts.targetVibrantSaturation, opts.minVibrantSaturation, 1, opts);\n    // mLightVibrantSwatch = findColor(TARGET_LIGHT_LUMA, MIN_LIGHT_LUMA, 1f,\n    //     TARGET_VIBRANT_SATURATION, MIN_VIBRANT_SATURATION, 1f)\n    palette.LightVibrant = _findColorVariation(palette, swatches, maxPopulation, opts.targetLightLuma, opts.minLightLuma, 1, opts.targetVibrantSaturation, opts.minVibrantSaturation, 1, opts);\n    // mDarkVibrantSwatch = findColor(TARGET_DARK_LUMA, 0f, MAX_DARK_LUMA,\n    //     TARGET_VIBRANT_SATURATION, MIN_VIBRANT_SATURATION, 1f)\n    palette.DarkVibrant = _findColorVariation(palette, swatches, maxPopulation, opts.targetDarkLuma, 0, opts.maxDarkLuma, opts.targetVibrantSaturation, opts.minVibrantSaturation, 1, opts);\n    // mMutedSwatch = findColor(TARGET_NORMAL_LUMA, MIN_NORMAL_LUMA, MAX_NORMAL_LUMA,\n    //     TARGET_MUTED_SATURATION, 0f, MAX_MUTED_SATURATION)\n    palette.Muted = _findColorVariation(palette, swatches, maxPopulation, opts.targetNormalLuma, opts.minNormalLuma, opts.maxNormalLuma, opts.targetMutesSaturation, 0, opts.maxMutesSaturation, opts);\n    // mLightMutedColor = findColor(TARGET_LIGHT_LUMA, MIN_LIGHT_LUMA, 1f,\n    //     TARGET_MUTED_SATURATION, 0f, MAX_MUTED_SATURATION)\n    palette.LightMuted = _findColorVariation(palette, swatches, maxPopulation, opts.targetLightLuma, opts.minLightLuma, 1, opts.targetMutesSaturation, 0, opts.maxMutesSaturation, opts);\n    // mDarkMutedSwatch = findColor(TARGET_DARK_LUMA, 0f, MAX_DARK_LUMA,\n    //     TARGET_MUTED_SATURATION, 0f, MAX_MUTED_SATURATION)\n    palette.DarkMuted = _findColorVariation(palette, swatches, maxPopulation, opts.targetDarkLuma, 0, opts.maxDarkLuma, opts.targetMutesSaturation, 0, opts.maxMutesSaturation, opts);\n    return palette;\n}\nfunction _generateEmptySwatches(palette, maxPopulation, opts) {\n    if (!palette.Vibrant && !palette.DarkVibrant && !palette.LightVibrant) {\n        if (!palette.DarkVibrant && palette.DarkMuted) {\n            var _a = palette.DarkMuted.getHsl(), h = _a[0], s = _a[1], l = _a[2];\n            l = opts.targetDarkLuma;\n            palette.DarkVibrant = new color_1.Swatch(converter_1.hslToRgb(h, s, l), 0);\n        }\n        if (!palette.LightVibrant && palette.LightMuted) {\n            var _b = palette.LightMuted.getHsl(), h = _b[0], s = _b[1], l = _b[2];\n            l = opts.targetDarkLuma;\n            palette.DarkVibrant = new color_1.Swatch(converter_1.hslToRgb(h, s, l), 0);\n        }\n    }\n    if (!palette.Vibrant && palette.DarkVibrant) {\n        var _c = palette.DarkVibrant.getHsl(), h = _c[0], s = _c[1], l = _c[2];\n        l = opts.targetNormalLuma;\n        palette.Vibrant = new color_1.Swatch(converter_1.hslToRgb(h, s, l), 0);\n    }\n    else if (!palette.Vibrant && palette.LightVibrant) {\n        var _d = palette.LightVibrant.getHsl(), h = _d[0], s = _d[1], l = _d[2];\n        l = opts.targetNormalLuma;\n        palette.Vibrant = new color_1.Swatch(converter_1.hslToRgb(h, s, l), 0);\n    }\n    if (!palette.DarkVibrant && palette.Vibrant) {\n        var _e = palette.Vibrant.getHsl(), h = _e[0], s = _e[1], l = _e[2];\n        l = opts.targetDarkLuma;\n        palette.DarkVibrant = new color_1.Swatch(converter_1.hslToRgb(h, s, l), 0);\n    }\n    if (!palette.LightVibrant && palette.Vibrant) {\n        var _f = palette.Vibrant.getHsl(), h = _f[0], s = _f[1], l = _f[2];\n        l = opts.targetLightLuma;\n        palette.LightVibrant = new color_1.Swatch(converter_1.hslToRgb(h, s, l), 0);\n    }\n    if (!palette.Muted && palette.Vibrant) {\n        var _g = palette.Vibrant.getHsl(), h = _g[0], s = _g[1], l = _g[2];\n        l = opts.targetMutesSaturation;\n        palette.Muted = new color_1.Swatch(converter_1.hslToRgb(h, s, l), 0);\n    }\n    if (!palette.DarkMuted && palette.DarkVibrant) {\n        var _h = palette.DarkVibrant.getHsl(), h = _h[0], s = _h[1], l = _h[2];\n        l = opts.targetMutesSaturation;\n        palette.DarkMuted = new color_1.Swatch(converter_1.hslToRgb(h, s, l), 0);\n    }\n    if (!palette.LightMuted && palette.LightVibrant) {\n        var _j = palette.LightVibrant.getHsl(), h = _j[0], s = _j[1], l = _j[2];\n        l = opts.targetMutesSaturation;\n        palette.LightMuted = new color_1.Swatch(converter_1.hslToRgb(h, s, l), 0);\n    }\n}\nvar DefaultGenerator = function (swatches, opts) {\n    opts = Object.assign({}, DefaultOpts, opts);\n    var maxPopulation = _findMaxPopulation(swatches);\n    var palette = _generateVariationColors(swatches, maxPopulation, opts);\n    _generateEmptySwatches(palette, maxPopulation, opts);\n    return palette;\n};\nexports.default = DefaultGenerator;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar image_1 = require(\"@vibrant/image\");\nvar Stage = /** @class */ (function () {\n    function Stage(pipeline) {\n        this.pipeline = pipeline;\n        this._map = {};\n    }\n    Stage.prototype.names = function () {\n        return Object.keys(this._map);\n    };\n    Stage.prototype.has = function (name) {\n        return !!this._map[name];\n    };\n    Stage.prototype.get = function (name) {\n        return this._map[name];\n    };\n    Stage.prototype.register = function (name, stageFn) {\n        this._map[name] = stageFn;\n        return this.pipeline;\n    };\n    return Stage;\n}());\nexports.Stage = Stage;\nvar BasicPipeline = /** @class */ (function () {\n    function BasicPipeline() {\n        this.filter = new Stage(this);\n        this.quantizer = new Stage(this);\n        this.generator = new Stage(this);\n    }\n    BasicPipeline.prototype._buildProcessTasks = function (_a) {\n        var _this = this;\n        var filters = _a.filters, quantizer = _a.quantizer, generators = _a.generators;\n        // Support wildcard for generators\n        if (generators.length === 1 && generators[0] === '*') {\n            generators = this.generator.names();\n        }\n        return {\n            filters: filters.map(function (f) { return createTask(_this.filter, f); }),\n            quantizer: createTask(this.quantizer, quantizer),\n            generators: generators.map(function (g) { return createTask(_this.generator, g); })\n        };\n        function createTask(stage, o) {\n            var name;\n            var options;\n            if (typeof o === 'string') {\n                name = o;\n            }\n            else {\n                name = o.name;\n                options = o.options;\n            }\n            return {\n                name: name,\n                fn: stage.get(name),\n                options: options\n            };\n        }\n    };\n    BasicPipeline.prototype.process = function (imageData, opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, filters, quantizer, generators, imageFilterData, colors, palettes;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _a = this._buildProcessTasks(opts), filters = _a.filters, quantizer = _a.quantizer, generators = _a.generators;\n                        return [4 /*yield*/, this._filterColors(filters, imageData)];\n                    case 1:\n                        imageFilterData = _b.sent();\n                        return [4 /*yield*/, this._generateColors(quantizer, imageFilterData)];\n                    case 2:\n                        colors = _b.sent();\n                        return [4 /*yield*/, this._generatePalettes(generators, colors)];\n                    case 3:\n                        palettes = _b.sent();\n                        return [2 /*return*/, {\n                                colors: colors,\n                                palettes: palettes\n                            }];\n                }\n            });\n        });\n    };\n    BasicPipeline.prototype._filterColors = function (filters, imageData) {\n        return Promise.resolve(image_1.applyFilters(imageData, filters.map(function (_a) {\n            var fn = _a.fn;\n            return fn;\n        })));\n    };\n    BasicPipeline.prototype._generateColors = function (quantizer, imageData) {\n        return Promise.resolve(quantizer.fn(imageData.data, quantizer.options));\n    };\n    BasicPipeline.prototype._generatePalettes = function (generators, colors) {\n        return __awaiter(this, void 0, void 0, function () {\n            var promiseArr;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, Promise.all(generators.map(function (_a) {\n                            var fn = _a.fn, options = _a.options;\n                            return Promise.resolve(fn(colors, options));\n                        }))\n                        // Map the values to the expected name\n                    ];\n                    case 1:\n                        promiseArr = _a.sent();\n                        // Map the values to the expected name\n                        return [2 /*return*/, Promise.resolve(promiseArr.reduce(function (promises, promiseVal, i) {\n                                promises[generators[i].name] = promiseVal;\n                                return promises;\n                            }, {}))];\n                }\n            });\n        });\n    };\n    return BasicPipeline;\n}());\nexports.BasicPipeline = BasicPipeline;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ImageBase = /** @class */ (function () {\n    function ImageBase() {\n    }\n    ImageBase.prototype.scaleDown = function (opts) {\n        var width = this.getWidth();\n        var height = this.getHeight();\n        var ratio = 1;\n        if (opts.maxDimension > 0) {\n            var maxSide = Math.max(width, height);\n            if (maxSide > opts.maxDimension)\n                ratio = opts.maxDimension / maxSide;\n        }\n        else {\n            ratio = 1 / opts.quality;\n        }\n        if (ratio < 1)\n            this.resize(width * ratio, height * ratio, ratio);\n    };\n    return ImageBase;\n}());\nexports.ImageBase = ImageBase;\nfunction applyFilters(imageData, filters) {\n    if (filters.length > 0) {\n        var pixels = imageData.data;\n        var n = pixels.length / 4;\n        var offset = void 0;\n        var r = void 0;\n        var g = void 0;\n        var b = void 0;\n        var a = void 0;\n        for (var i = 0; i < n; i++) {\n            offset = i * 4;\n            r = pixels[offset + 0];\n            g = pixels[offset + 1];\n            b = pixels[offset + 2];\n            a = pixels[offset + 3];\n            // Mark ignored color\n            for (var j = 0; j < filters.length; j++) {\n                if (!filters[j](r, g, b, a)) {\n                    pixels[offset + 3] = 0;\n                    break;\n                }\n            }\n        }\n    }\n    return imageData;\n}\nexports.applyFilters = applyFilters;\n//# sourceMappingURL=index.js.map"],"sourceRoot":""}